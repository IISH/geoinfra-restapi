---
  classes:
    - environment
    - geoinfra
    - nodejs
  postgresql::globals::encoding: "UTF-8"
  postgresql::globals::locale: "en_US.UTF-8"
  postgresql::globals::manage_package_repo: true
  postgresql::globals::version: "9.4"
  postgresql::server::db:
    geoinfra:
      user: "geoinfra"
      password: "md5ac0870ed1147c3a0ba959602774869d6"
  postgresql::server::pg_hba_rule:
    Access to delivery from %{::fqdn}:
      description: "Open up postgresql for access from %{::ipaddress}"
      type: "host"
      database: "geoinfra"
      user: "geoinfra"
      address: "172.28.0.0/16"
      auth_method: "md5"
  postgresql::server::postgis
  nodejs::repo_url_suffix: "node_0.12"
  nodejs::npm:
    api:
      home_dir: "/opt/geoinfra"
      source: "https://github.com/IISH/geoinfra-restapi.git"
      target: "/opt/geoinfra"
      user: "geoinfra"
    pm2:
      install_options: ["--global"]
      target: "/tmp"

